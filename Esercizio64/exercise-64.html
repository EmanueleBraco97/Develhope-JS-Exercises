<html>
  <body>
    <div id="container">
      <button type="button" id="fetch-post" onclick="fetchPost()">Fetch Post</button>
      <button type="button" id="save-post" onclick="savePost()">Save Post on LocalStorage</button>
    </div>
  </body>
</html>

<script>
// code here
let post;

function fetchPost(){
  fetch('https://jsonplaceholder.typicode.com/posts/1') //effettuiamo la chiamata (non gestita)//

  .then(response => { //con then noi gestiamo la chiamata fatta//
    console.log("Risposta del server:", response);
    return response.json(); // Recupero il body e lo trasformo in JSON, ovvero in un oggetto
  })
  .then(data => { //questo then ci gestirà/darà la risposta del then precedente//
    // Recupero il body trasformato come oggetto e lo stampo
    console.log(data);
    post = data;
  })
}

function savePost(){
  if(post){
    localStorage.setItem('post', JSON.stringify(post));
  }
  
}
</script>
